      - name: Deploy via Git archive
        run: |
          # Create archive of the repository
          git archive --format=tar HEAD | gzip > site.tar.gz
          
          # Upload and extract
          scp -P ${{ secrets.PORT }} \
              -o StrictHostKeyChecking=no \
              site.tar.gz \
              ${{ secrets.USERNAME }}@${{ secrets.HOST }}:~/public_html/site.tar.gz
          
          ssh -p ${{ secrets.PORT }} \
              -o StrictHostKeyChecking=no \
              ${{ secrets.USERNAME }}@${{ secrets.HOST }} \
              "cd ~/public_html && tar -xzf site.tar.gz --strip-components=1 && rm site.tar.gz"
